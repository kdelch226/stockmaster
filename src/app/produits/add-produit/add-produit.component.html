<div class="modal-header">
    <h2>Ajouter un nouveau produit</h2>
    <button class="btn-close" (click)="bsModalRef.hide()"></button>
</div>

<!--formulaire de remplissage pour le client-->
<div class="modal-body">
    <form  (submit)="onSubmit()" #clientForm="ngForm">
        <div class="input-group mb-3">
            <span class="input-group-text"> Nom du produit</span>
            <input type="text" class="form-control" name="nomProduit" [(ngModel)]="formData.name" required>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text">Description</span>
            <input type="text" class="form-control" name="description" [(ngModel)]="formData.description" required>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text"> prix</span>
            <input type="number" class="form-control" name="prix" [(ngModel)]="formData.price" required>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text"> Format</span>
            <select name="format" class="form-select" [(ngModel)]="formData.unitType" required>
                <option value="caisse">caisse</option>
                <option value="bouteille">bouteille</option>
                <option value="cannette">cannette</option>
            </select>
        </div>

        <div *ngIf="formData.unitType==='caisse'" class="input-group mb-3">
            <span class="input-group-text"> Quantité par caisse</span>
            <input type="number" class="form-control" name="quantiteParCaisse" [(ngModel)]="formData.unitQuantity" required>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text"> Quantité initiale</span>
            <input type="number" class="form-control" name="quantiteInitiale" [(ngModel)]="formData.quantityInStock" required>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text"> Fournisseur</span>
            <select name="fournisseur" class="form-select" [(ngModel)]="formData.fournisseurId" required>
                <!-- options fournisseur ici -->
            </select>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text"> Image</span>
            <input type="file" class="form-control" name="image" accept="image/*" (change)="onFileSelected($event)" required>
        </div>
        <button class="btn btn-secondary" type="button" (click)="verifyForm()">continuez</button>
        <div>
            <button *ngIf="isEveryThingEntri" type="submit" class="btn btn-primary mt-2" (click)="bsModalRef.hide()" >Ajouter produit</button>
        </div>
    </form>
</div>

<div *ngIf="isCollapsed" class="confirm-no-image text-center mb-4">
    <div class="">
        <h2>Vous allez creer un produit sans image ?</h2>
    </div>
    <div class="d-flex justify-content-center">
        <button class="btn btn-danger mx-1" (click)="isEveryThingEntri=true;isCollapsed=false">Confirmer</button>
    <button class="btn btn-secondary mx-1" (click)="isCollapsed=false">Annulez</button>
    </div>
</div>